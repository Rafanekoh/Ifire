<!DOCTYPE html><html><head><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;"><meta http-equiv="x-dns-prefetch-control" content="off"><script src="https://puc.poecdn.net/standard.c8d3df4d67dddca2ccac.js"></script>
    <meta charset="utf-8">
    <title>Poe</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
  <script src="https://puc.poecdn.net/disableWebRTC.1aeb03bd12f4b156eecc.js"></script><script src="https://puc.poecdn.net/tw.b9024aecac666455e183.js"></script><script src="https://puc.poecdn.net/deps.ac7e4de820f1e47e84a2.js"></script><script src="https://puc.poecdn.net/exports.b0f0f482cdeb5302b0b9.js"></script><script src="https://puc.poecdn.net/renderer.6065bf6c6271ccf44fe1.js"></script><script>const SongCard = ({ song, isFavorite }) => {
  const apiKey = "AIzaSyCf16bTmrWp9Xp20hX0nQSPowJQ6KronXs";

  const searchYouTubeAndRedirect = async () => {
    const query = `${song.trackName} ${song.artistName} official music video`;
    const searchUrl = `https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=1&q=${encodeURIComponent(
      query
    )}&key=${apiKey}`;

    try {
      const res = await fetch(searchUrl);
      const data = await res.json();

      if (data.items && data.items.length > 0) {
        const videoId = data.items[0].id.videoId;
        const videoUrl = `https://www.youtube.com/watch?v=${videoId}`;
        window.open(videoUrl, "_blank");
      } else {
        // Fallback: abrir busca normal
        const fallbackUrl = `https://www.youtube.com/results?search_query=${encodeURIComponent(query)}&sp=EgIQAQ%3D%3D`;
        window.open(fallbackUrl, "_blank");
      }
    } catch (error) {
      console.error("Erro ao buscar no YouTube:", error);
      const fallbackUrl = `https://www.youtube.com/results?search_query=${encodeURIComponent(query)}&sp=EgIQAQ%3D%3D`;
      window.open(fallbackUrl, "_blank");
    }
  };

  const youtubeButton = (
    React.createElement(Button, {
      variant: "outline",
      size: "sm",
      className: "flex-1",
      onClick: searchYouTubeAndRedirect,
      title: "Assistir no YouTube"  ,}

      , React.createElement(YouTubeLogo, null ), "YouTube"

    )
  );

  // aqui permanece o restante do seu Card
  return (
    React.createElement(Card, { className: "dark:bg-gray-800",}
      , React.createElement(CardHeader, { className: "flex flex-row items-start justify-between pb-2"    ,}
        , React.createElement('div', null
          , React.createElement(CardTitle, { className: "text-lg dark:text-white" ,}
            , song.trackName
          )
          , React.createElement('p', { className: "text-sm text-muted-foreground" ,}
            , song.artistName, " • "  , song.collectionName
          )
        )
        , React.createElement(Button, {
          variant: "ghost",
          size: "icon",
          onClick: () => toggleFavorite(song),
          'aria-label': isFavorite ? "Remove from favorites" : "Add to favorites",}

          , React.createElement(Star, {
            className: `h-4 w-4 ${
              isFavorite
                ? "fill-yellow-400 text-yellow-400"
                : "text-gray-400"
            }`,}
          )
        )
      )
      , React.createElement(CardContent, null
        , React.createElement('div', { className: "flex items-center gap-4 mb-4"   ,}
          , React.createElement('div', { className: "bg-gray-200 border-2 border-dashed rounded-xl w-16 h-16"     ,}
            , song.artworkUrl100 && (
              React.createElement('img', {
                src: song.artworkUrl100,
                alt: `${song.trackName} album art`,
                className: "w-full h-full rounded-xl"  ,}
              )
            )
          )
          , song.previewUrl && (
            React.createElement('audio', { controls: true, className: "w-full max-w-xs" ,}
              , React.createElement('source', { src: song.previewUrl, type: "audio/mpeg",} ), "Seu navegador não suporta áudio."

            )
          )
        )
      )
      , React.createElement(CardFooter, { className: "flex justify-between gap-2"  ,}
        , React.createElement(Button, { variant: "outline", size: "sm", asChild: true, className: "flex-1",}
          , React.createElement('a', {
            href: `https://open.spotify.com/search/${encodeURIComponent(
              `${song.trackName} ${song.artistName}`
            )}`,
            target: "_blank",
            rel: "noopener noreferrer" ,
            title: "Ouvir no Spotify"  ,}

            , React.createElement(SpotifyLogo, null ), "Spotify"

          )
        )
        , youtubeButton
      )
    )
  );
};
</script></head>
  <body>
  

<div id="preview-app"></div></body></html>